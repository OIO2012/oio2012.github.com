<html><!-- строчка рекламы by.ru -->
<script language="JavaScript" type="text/javascript" src="../../../more.by.ru/up/up.js-2035805824" tppabs="http://more.by.ru/up/up.js?2035805824"></script>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<!--
This document was converted from RTF source: 
By rtftohtml 4.17
See http://www.sunpack.com/RTF
Filename:HardDrive:Desktop Folder:0672315947:emacs.rtf
Application Directory:HardDrive:Desktop Folders:Converters:ERL-SEU(4.17):r2h
Subject:
Author:enduser
Operator:End User
Document Comments:
Version Comments:
Comments:
Keywords:
Translation Date:08/11/1999
Translation Time:22:03:56
Translation Platform:MacOS
Number of Output files:226
This File:HardDrive:Desktop Folder:0672315947:emacs053.htm
SplitDepth=2
SkipNavPanel=1
SkipLeadingToc=0
SkipTrailingToc=1
GenContents=1
GenFrames=0
GenIndex=1
-->
<HEAD lang="en"><LINK rel="stylesheet" href="graphics/pkbstyle.css" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/pkbstyle.css">
<META NAME="CATEGORY" CONTENT="0672315947">
<META NAME="BOOKTITLE" CONTENT="Sams Teach Yourself Emacs in 24 Hours">
<TITLE>Hour 6: Editing Several Files at Once : Working with Multiple Buffers</TITLE>




<!--Begin Popup Script-->
<SCRIPT LANGUAGE="JavaScript">
<!--
function popUp(pPage) {
 figLoc = '' + document.location;
 if (figLoc.indexOf('/') == -1 && figLoc.indexOf('\\') >= 0) {
   slash = '\\';
 } else {
   slash = '/';
 }
 openLoc = figLoc.substring(0, figLoc.lastIndexOf(slash) + 1);
 while (pPage.substring(0,3) == '../') {
   openLoc = openLoc.substring(0, openLoc.lastIndexOf(slash, openLoc.length - 2) + 1);
   pPage = pPage.substring(3, pPage.length + 1);
 }
 popUpWin = window.open('','popWin','resizable=1,scrollbars=1,location=0,toolbar=0,width=525,height=394');
 figDoc = popUpWin.document;
 zhtm= '<HTML><HEAD><TITLE>' + pPage + '</TITLE>';
 zhtm += '</head>';
 zhtm += '<BODY bgcolor="#FFFFFF">';
 zhtm += '<IMG SRC="' + openLoc + pPage + '">';
 zhtm += '<P><B>' + pPage.substring(pPage.lastIndexOf('/') + 1, pPage.length) + '</B> ';
 zhtm += '</BODY></HTML>';
 figDoc.write(zhtm);
 figDoc.close();
}
// modified 3.1.99 RWE v4.1 -->
</SCRIPT>

<!--End Popup Script--></HEAD>

<BODY bgcolor=#FFFFFF >
<TABLE border="0" width="99%" cellspacing="0" cellpadding="3">
  <TR> 
    <TD background="graphics/blstrbkg.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/blstrbkg.gif"  bgcolor="#666699"> 
      <P> <FONT color="#FFFFFF"><B>Sams Teach Yourself Emacs<FONT size="1"></FONT> 
        in 24 Hours</B> </FONT></P>
    </TD>
    <TD background="graphics/blstrbkg.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/blstrbkg.gif" bgcolor="#666699"><FONT size="2"><IMG src="../style/dot.gif" tppabs="http://freebooks.by.ru/view/style/dot.gif" width="10" height="1"></FONT></TD>
    <TD background="graphics/blstrbkg.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/blstrbkg.gif" bgcolor="#666699" nowrap align="right"> 
      <P><A href="index.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/index.htm"><FONT size="2" color="#FFFFFF">Contents</FONT></A><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"><A href="bkindex.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/bkindex.htm"><FONT size="2" color="#FFFFFF">Index</FONT></A></P>
    </TD>
  </TR>
  <TR> 
    <TD bgcolor="#AAAAAA" height="16"> 
      <P><FONT size="2">Hour 6: Editing Several Files at Once </FONT></P>
    </TD>
    <TD bgcolor="#AAAAAA" height="16"><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
    <TD bgcolor="#AAAAAA" height="16" align="right" nowrap> 
      <P><FONT size="2"><A href="emacs046.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs046.htm"><IMG src="graphics/prev-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/prev-on.gif" width="7" height="5" border="0">Previous 
        Hour</A><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"><A href="emacs059.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs059.htm">Next 
        Hour<IMG src="graphics/next-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/next-on.gif" width="7" height="5" border="0"></A></FONT></P>
    </TD>
  </TR>
  <TR> 
    <TD bgcolor="#DDDDDD"> 
      <TABLE border="0" cellspacing="0" cellpadding="0" dwcopytype="CopyTableRow">
        <TR valign="top"> 
          <TD> 
            <P></P>
            <P><FONT size="2">Sections in this Hour:</FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1">Working with Multiple Buffers 
              </FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs056.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs056.htm">Q&amp;A</A> 
              </FONT></P>
          </TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs054.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs054.htm">Working 
              with Windows and Frames</A></FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs057.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs057.htm">Exercises</A> 
              </FONT></P>
          </TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs055.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs055.htm">Summary</A> 
              </FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1"> </FONT></P>
          </TD>
        </TR>
      </TABLE>
    </TD>
    <TD bgcolor="#DDDDDD">&nbsp;</TD>
    <TD bgcolor="#DDDDDD" align="right" nowrap valign="bottom"> 
      <P class="navigation"><FONT size="2"><IMG src="graphics/prev-off.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/prev-off.gif" width="7" height="5" border="0">Previous 
        Section<IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"><A href="emacs054.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs054.htm">Next 
        Section<IMG src="graphics/next-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/next-on.gif" width="7" height="5" border="0"></A></FONT></P>
    </TD>
  </TR>
</TABLE>
<H2>Hour 6<BR>
  Editing Several Files at Once </H2>
<P><FONT size=2>Up to now, you have seen how you can use Emacs to edit files, 
  but only one at a time. You might, however, often want to edit several files 
  at a time. For example, consider this situation. You are editing<A name="Index2138"></A><A name="Index2139"></A> 
  your current project which contain several C files. While you edit them, you 
  need to see a definition in another file. Suddenly your boss comes in and demands 
  that you write a given letter at once. (You had promised him that you&#039;d 
  have it in two weeks.) While you edit the letter, the telephone rings. It is 
  your girlfriend, who wants you to add a few items to your shopping list (which 
  you, of course, have on your computer). </FONT></P>
<P><FONT size=2>Do you get my drift? The letter for your boss and the shopping 
  list can, of course, be edited by a separate Emacs, which you start for only 
  this purpose. But it is not realistic that you would start a separate Emacs 
  for each file in your programming project. </FONT></P>
<P><FONT size=2>Fortunately, Emacs supports <A name="Index2140"></A><A name="Index2141"></A>editing 
  in multiple buffers at the same time. </FONT></P>

<H2><A name="c1"></A> Working with Multiple Buffers </H2>
<TABLE border="0" cellspacing="0" cellpadding="0">
  <TR valign="top"> 
    <TD> 
      <P class="navigation"><A href="#Heading140"><FONT size="1">Switching Buffers</FONT></A></P>
    </TD>
  </TR>
</TABLE>
<BR>
<P><FONT size=2>When
you open<A name="Index2142"></A><A name="Index2143"></A>
a new file with 
<SPAN class=compcode>C-x
C-f
</SPAN>
(find-file) a new buffer is created with the content of the file and the buffer
is shown to you in the current window. The old buffer is not destroyed by this
action; it is merely hidden. You have many ways to get back to the other
buffer. The most basic is to press<A name="Index2144"></A><A name="Index2145"></A>
<SPAN class=compcode>C-x
b
</SPAN>
(switch-to-buffer). Emacs then asks you for the name for the buffer to switch
to. (In many cases this is the same name as<A name="Index2146"></A><A name="Index2147"></A>
the file; later you will see other cases.)
</FONT></P>
<A name="Heading140"></A>
<H4> <IMG src="graphics/todo.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/todo.gif" width="69" height="18"> Switching Buffers </H4>
<P><FONT size=2>This
task shows <A name="Index2148"></A><A name="Index2149"></A>you
the most basic way to get to another buffer.
</FONT></P>
<DL>
<DT><DD>
    <P> <B><FONT size=2>1. </FONT></B><FONT size=2>Press<A name="Index2150"></A><A name="Index2151"></A> 
      <SPAN class=compcode>C-x b</SPAN> (switch-to-buffer). Emacs asks you for 
      the name of the buffer to switch to (see <A href="javascript:popUp('graphics/ch06/06fig01.gif')">Figure 
      6.1</A>). As the default it suggests the buffer that you last visited (that 
      is, the buffer before your current one). If you want <A name="Index2152"></A><A name="Index2153"></A>to 
      switch to this buffer, simply press Enter. </FONT>
  </DL>
<FONT size=2> 
<P></P>
<P class="figcaption"><FONT size=2><B><A href="javascript:popUp('graphics/ch06/06fig01.gif')">Figure 
  6.1</A> </B><BR>
  Emacs asks for a <A name="Index2154"></A><A name="Index2155"></A>buffer name 
  to switch to. </FONT></P>
<DL> 
  <DT> 
  <DD> 
    <P> <B><FONT size=2>2. </FONT></B><FONT size=2>Now you can start to type the 
      name of the buffer that you want to switch to. To make Emacs complete as 
      much of the name as possible for you, press the Tab key. If it can&#039;t 
      unambiguously fill in any letters for you, it lists the possible completions, 
      as you <A name="Index2156"></A><A name="Index2157"></A>can see in <A href="javascript:popUp('graphics/ch06/06fig02.gif')">Figure 
      6.2</A>. </FONT> 
</DL>
<FONT size=2> 
<P></P>
<P class="figcaption"><FONT size=2><B><A href="javascript:popUp('graphics/ch06/06fig02.gif')">Figure 
  6.2</A> </B><BR>
  When no letters can be<A name="Index2158"></A><A name="Index2159"></A> added 
  unambiguously when pressing the Tab key, Emacs lists the possible completions. 
  </FONT></P>
<DL> 
  <DT> 
  <DD> 
    <P> <B><FONT size=2>3. </FONT></B><FONT size=2>When you have finished typing 
      the name, press Enter to tell Emacs to open <A name="Index2160"></A><A name="Index2161"></A>this 
      file for you. </FONT> 
</DL>
<FONT size=2> 
<P></P>
<TABLE border="0" width="90%" cellspacing="0" cellpadding="3" align="center">
  <TR> 
    <TD bgcolor="#DDDDDD"> 
      <P><FONT size=2><B class="specialred">Caution -</B> If you type the<A name="Index2162"></A> 
        name of a nonexistent buffer, Emacs creates a new empty buffer. This buffer 
        is not associated with any file, and thus no auto-saving is done! In most 
        cases, you should kill this buffer right away and switch to the one you 
        intended to move to in the first place. </FONT></P>
      <P><FONT size=2> Note that this is the only way you can create a new buffer 
        without inserting any default content. This might be handy in times when 
        you need to test an editing <A name="Index2163"></A>function.</FONT></P>
    </TD>
  </TR>
</TABLE>
<IMG src="graphics/arrowup.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/arrowup.gif" width="21" height="16"><BR>
<P><FONT size=2>When you finish <A name="Index2164"></A><A name="Index2165"></A>with 
  a buffer, you can <A name="Index2166"></A><A name="Index2167"></A>kill it by 
  pressing <SPAN class=compcode>C-x k</SPAN> (kill-buffer). Emacs asks you for 
  the name of the buffer you want to kill, in the same way it asks for a name 
  when you switch buffers. If the buffer has a file loaded into it, Emacs forgets 
  all about the file, too. If the file has changed since it was last saved to 
  disk, Emacs suggests that you save it before you kill it, as you can <A name="Index2168"></A><A name="Index2169"></A>see 
  in <A href="javascript:popUp('graphics/ch06/06fig03.gif')">Figure 6.3</A>. </FONT></P>
<P class="figcaption"><FONT size=2><B><A href="javascript:popUp('graphics/ch06/06fig03.gif')">Figure 
  6.3</A> </B><BR>
  Emacs asks you whether <A name="Index2170"></A><A name="Index2171"></A>you really 
  want to kill the buffer without saving it. </FONT></P>
<TABLE border="0" width="90%" cellspacing="0" cellpadding="3" align="center">
  <TR> 
    <TD bgcolor="#DDDDDD"> 
      <P><FONT size=2><B class="specialgreen">Note -</B> Note that this is one 
        of the answers where you must type <SPAN class=compcode>yes</SPAN> or 
        <SPAN class=compcode>no</SPAN> (that is, spelled out) and subsequently 
        press the Enter key. This is to avoid accidentally <A name="Index2172"></A><A name="Index2173"></A>killing 
        a buffer that has been modified. </FONT></P>
    </TD>
  </TR>
</TABLE>
<A name="Heading141"></A> 
<H3> Managing Buffers </H3>
<P><FONT size=2>Emacs has a <A name="Index2174"></A><A name="Index2175"></A><A name="Index2176"></A>special 
  interface for managing buffers. This interface itself is simply a special buffer 
  with special keybindings. You&#039;ll see these buffers a lot! </FONT></P>
<P><FONT size=2>To get to this buffer, press<A name="Index2177"></A><A name="Index2178"></A> 
  <SPAN class=compcode>C-x C-b</SPAN> (list-buffers). This splits your current 
  <A name="Index2179"></A><A name="Index2180"></A>window in <A name="Index2181"></A>two, 
  as you can see in <A href="javascript:popUp('graphics/ch06/06fig04.gif')">Figure 
  6.4</A>. </FONT></P>
<P class="figcaption"><FONT size=2><B><A href="javascript:popUp('graphics/ch06/06fig04.gif')">Figure 
  6.4</A> </B><BR>
  The interface for <A name="Index2182"></A>managing <A name="Index2183"></A><A name="Index2184"></A>buffers.</FONT></P>
<P><FONT size=2>From this buffer you can <A name="Index2185"></A>select, delete, 
  and save files and much more. Each of the functions are bound to a single key. 
  You are not allowed to insert text into this buffer, therefore it&#039;s okay 
  to use the letter <SPAN class=compcode>f</SPAN> for something else, for example. 
  When pressing a key, the operation operates on the line in which point is located. 
  The most<A name="Index2186"></A><A name="Index2187"></A> important bindings 
  in this buffer include </FONT></P>
<UL>
  <LI> 
    <P><FONT size=2> <SPAN class=compcode>1</SPAN>--Pressing 1 makes the buffer 
      on the current line the only visible one in the given frame. </FONT></P>
  </LI>
  <P></P>
  <LI> 
    <P><FONT size=2> <SPAN class=compcode>o</SPAN> or <SPAN class=compcode>C-o</SPAN>--By 
      pressing the letter <SPAN class=compcode>o</SPAN> or <SPAN class=compcode>C-o</SPAN>, 
      the buffer is selected in another window. The difference between the two 
      is that <SPAN class=compcode>o</SPAN> moves the cursor to the other window, 
      whereas <SPAN class=compcode>C-o</SPAN> doesn&#039;t. </FONT></P>
  </LI>
  <P></P>
  <P><FONT size=2> In both cases the buffer menu is still visible. In <A href="javascript:popUp('graphics/ch06/06fig05.gif')">Figure 
    6.5</A>, <SPAN class=compcode>C-o</SPAN> has been <A name="Index2188"></A><A name="Index2189"></A><A name="Index2190"></A>pressed.</FONT></P>
</UL>
<P></P>
<P class="figcaption"><FONT size=2><B><A href="javascript:popUp('graphics/ch06/06fig05.gif')">Figure 
  6.5</A> </B><BR>
  <SPAN class=compcode>C-o</SPAN> has been pressed, which<A name="Index2191"></A><A name="Index2192"></A><A name="Index2193"></A> 
  loaded the file <SPAN class=compcode>.tcshrc</SPAN> into the other window. Focus 
  is still in the buffer list window. </FONT></P>
<UL>
  <LI> 
    <P><FONT size=2> <SPAN class=compcode>d</SPAN>, <SPAN class=compcode>C-d</SPAN>, 
      and <SPAN class=compcode>x</SPAN>--Pressing <SPAN class=compcode>d</SPAN> 
      <A name="Index2194"></A><A name="Index2195"></A><A name="Index2196"></A><A name="Index2197"></A><A name="Index2198"></A>marks 
      the buffer on the current line for deletion, and moves down to the next 
      line. Likewise <SPAN class=compcode>C-d</SPAN> marks for deletion but moves 
      to the previous line. The buffer is not deleted right away. To do the actual 
      deletion, you must press <SPAN class=compcode>x</SPAN> (for e<I>x</I>ecute). 
      The reason for this two-stage deletion is that you can execute a macro, 
      for example, that marks the buffers. When the macro has been executed, you 
      can verify the list before you waste the buffers. If any of the buffers 
      are modified, you are asked whether you want<A name="Index2199"></A><A name="Index2200"></A><A name="Index2201"></A><A name="Index2202"></A> 
      to save them before you delete them. </FONT></P>
  </LI>
  <P></P>
  <LI> 
    <P><FONT size=2> <SPAN class=compcode>s</SPAN>--Pressing <SPAN class=compcode>s</SPAN> 
      marks the <A name="Index2203"></A><A name="Index2204"></A>given buffer for 
      saving. Again, the buffer is <A name="Index2205"></A><A name="Index2206"></A>not 
      saved right away, but only marked. </FONT></P>
  </LI>
</UL>
<P></P>
<P><FONT size=2>In the first column the letter <SPAN class=compcode>D</SPAN> indicates 
  that the given buffer is marked for <A name="Index2207"></A><A name="Index2208"></A><A name="Index2209"></A><A name="Index2210"></A>deletion, 
  whereas the letter <SPAN class=compcode>S</SPAN> in the second column indicates 
  that it<A name="Index2211"></A><A name="Index2212"></A> has been marked for 
  saving<A name="Index2213"></A><A name="Index2214"></A><A name="Index2215"></A> 
  (see <A href="javascript:popUp('graphics/ch06/06fig06.gif')">Figure 6.6</A>). 
  </FONT></P>
<P class="figcaption"><FONT size=2><B><A href="javascript:popUp('graphics/ch06/06fig06.gif')">Figure 
  6.6</A> </B><BR>
  Indication of marked <A name="Index2216"></A><A name="Index2217"></A><A name="Index2218"></A><A name="Index2219"></A><A name="Index2220"></A><A name="Index2221"></A><A name="Index2222"></A>buffers.</FONT></P>
<A name="Heading142"></A> 
<H3> Buffer Names </H3>
<P><FONT size=2>When a buffer is<A name="Index2223"></A><A name="Index2224"></A> 
  loaded from a file it gets the same name as the file&#039;s name excluding the 
  directory path. This makes it easy to find a given buffer, if you know which 
  file it contains. This is most definitely the most intuitive name for the buffer. 
  There is one exception, namely if a buffer exists with the same name. This is 
  possible if two files with the same name from different directories are loaded 
  into Emacs. In this case a number is appended to the end of the filename. Thus 
  if Emacs already contains a buffer with the name <SPAN class=compcode>index.html</SPAN>, 
  and you load another file with this name into Emacs, the second buffer is called 
  <SPAN class=compcode>index.html&lt;2&gt;</SPAN>. The third buffer is called 
  <SPAN class=compcode>index.hmtl&lt;3&gt;,</SPAN> and so on. The files that the 
  buffers <A name="Index2225"></A><A name="Index2226"></A>were loaded from are, 
  of course, not renamed. </FONT></P>
<TABLE border="0" width="90%" cellspacing="0" cellpadding="3" align="center">
  <TR> 
    <TD bgcolor="#DDDDDD"> 
      <P><FONT size=2><B class="specialred">Caution -</B> If you have two <A name="Index2227"></A><A name="Index2228"></A>buffers 
        in Emacs called <SPAN class=compcode>index.html</SPAN> and <SPAN class=compcode>index.html&lt;2&gt;</SPAN>, 
        the second is not renamed to <SPAN class=compcode>index.html</SPAN> when 
        the first is killed. That is, when a buffer has been named, it <A name="Index2229"></A><A name="Index2230"></A>will 
        not be renamed. </FONT></P>
    </TD>
  </TR>
</TABLE>
<BR>
<P><FONT size=2>Besides the buffers which <A name="Index2231"></A><A name="Index2232"></A>you 
  create, Emacs also creates and manages some itself. Up to now, you have seen 
  a few of these, namely the message buffer, containing old messages from the 
  minibuffer, and the buffer menu buffer described in the previous section. To 
  make it easier for you to distinguish these buffers from those you create yourself, 
  the names for these buffers have a star at the beginning and the end. Examples 
  of these buffer names include <SPAN class=compcode>*Messages*</SPAN>, <SPAN class=compcode>*Buffer 
  List*</SPAN>, <A name="Index2233"></A><A name="Index2234"></A>and <SPAN class=compcode>*Help*</SPAN>.</FONT></P>
<A name="Heading143"></A> 
<H3> The Buffer Menu </H3>
<P><FONT size=2>In <A href="emacs025.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs025.htm">Hour 3, &quot;Getting
  Started with Emacs,&quot;</A> <FONT size=2><FONT size=2><FONT size=2><A name="Index2235"></A><A name="Index2236"></A><A name="Index2237"></A><A href="emacs025.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs025.htm"></A></FONT></FONT></FONT>you 
  saw that the buffer list was available from the Buffers entry in the menu bar. 
  In <A href="javascript:popUp('graphics/ch06/06fig07.gif')">Figures 6.7</A> and 
  <A href="javascript:popUp('graphics/ch06/06fig08.gif')">6.8</A> you can see 
  what it looks like. </FONT></P>
<P class="figcaption"><FONT size=2><B><A href="javascript:popUp('graphics/ch06/06fig07.gif')">Figure 
  6.7</A> </B><BR>
  The <SPAN class=compcode>Buffers</SPAN> menu <A name="Index2238"></A><A name="Index2239"></A><A name="Index2240"></A><A name="Index2241"></A>entry 
  from GNU Emacs. </FONT></P>
<P class="figcaption"><FONT size=2><B><A href="javascript:popUp('graphics/ch06/06fig08.gif')">Figure 
  6.8</A> </B><BR>
  The buffer menu <A name="Index2242"></A><A name="Index2243"></A><A name="Index2244"></A><A name="Index2245"></A>in 
  XEmacs. </FONT></P>
<P><FONT size=2>There is a bit of difference between GNU Emacs and XEmacs at this 
  point. The main difference is that the files are sorted by category in<A name="Index2246"></A><A name="Index2247"></A><A name="Index2248"></A><A name="Index2249"></A> 
  XEmacs (that is, HTML files in one group and Lisp files in another), which is 
  not the case<A name="Index2250"></A><A name="Index2251"></A><A name="Index2252"></A><A name="Index2253"></A> 
  in GNU Emacs. </FONT></P>
<TABLE border="0" width="90%" cellspacing="0" cellpadding="3" align="center">
  <TR> 
    <TD bgcolor="#DDDDDD"> 
      <P><FONT size=2><B class="specialgreen">Tip -</B> Using the <SPAN class=compcode>msb</SPAN> 
        library, GNU Emacs<A name="Index2254"></A><A name="Index2255"></A><A name="Index2256"></A><A name="Index2257"></A> 
        can be enhanced to have categorized entries in the <SPAN class=compcode>Buffers</SPAN> 
        submenu. It is, however, beyond the scope of this book to describe this 
        library, because it requires some knowledge of Lisp programming. </FONT></P>
    </TD>
  </TR>
</TABLE>
<A name="Heading144"></A> 
<H3> Traveling Through the Buffers </H3>
<P><FONT size=2>If you want to go <A name="Index2258"></A><A name="Index2259"></A>to 
  a buffer, and you can&#039;t remember its name very well, there are hints in 
  the following two subsections. Both tell you about a different package that 
  makes it simple to get to a buffer using the keyboard. If, on the other hand, 
  you think that pressing <SPAN class=compcode>C-x b</SPAN>.and using the Tab 
  key to find the correct buffer is enough for you, you can skip the rest of this 
  section. But please come back here when you have begun to use Emacs in such 
  a way that you often have more than 15-20 buffers alive at the same time. (No, 
  that is not unusual at all!) </FONT></P>
<P><FONT size=2>When you press <SPAN class=compcode>C-x b</SPAN>.Emacs suggests 
  the name of the previous buffer you visited. This is especially useful if you 
  switch between two buffers. Initially you open the first buffer and then the 
  next one, but from then on you can simply press <SPAN class=compcode>C-x b RET 
 </SPAN>.to go to the other one (given, of course, that you do not switch to 
  another buffer in <A name="Index2260"></A><A name="Index2261"></A>between).</FONT></P>
<P><FONT size=2>This approach, however, does not work if you edit three files 
  that you have to frequently switch between. An alternative is to use the library<A name="Index2262"></A><A name="Index2263"></A> 
  <SPAN class=compcode>yic-buffer</SPAN>, which lets you travel through the list 
  of buffers without naming any files. Simply think of all the buffers as keys 
  in a key ring. With the functions from <SPAN class=compcode>yic-buffer</SPAN> 
  you have the capability <A name="Index2264"></A><A name="Index2265"></A>to go 
  to the next or previous buffer in this ring. </FONT></P>
<P><FONT size=2>To install this library, copy the file <SPAN class=compcode>yic-buffer.el</SPAN> 
  from<A name="Index2266"></A><A name="Index2267"></A> the CD to your Lisp directory, 
  and insert the following into your <SPAN class=compcode>.emacs</SPAN> file: 
  </FONT></P>
<PRE class="compcode"><FONT size=3>
<SPAN class=compcode>(load-library &quot;yic-buffer&quot;)</SPAN>
</FONT></PRE>
<P><FONT size=2>By default <A name="Index2268"></A><A name="Index2269"></A><A name="Index2270"></A><A name="Index2271"></A>this 
  library binds <SPAN class=compcode>C-x C-p</SPAN>.to <I>go to the previous 
  buffer </I>, whereas <SPAN class=compcode>C-x C-n</SPAN>.is bound to <I>go 
  to the next buffer </I>. Thus with these two functions you can cycle through 
  all the buffers. Why <SPAN class=compcode>C-x C-p</SPAN>? Well, <SPAN class=compcode>C-p</SPAN> 
  goes to the previous line. (You saw that in <A href="emacs016.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs016.htm">Hour 2, &quot;Using 
  Emacs in Microsoft Windows,&quot;</A> where I mentioned that arrow-up was enough 
  in most cases.) Therefore it was logical for the author to bind it to <SPAN class=compcode>C-x 
  C-p</SPAN>. If you would rather bind it to Ctrl-Page-Up and<A name="Index2272"></A><A name="Index2273"></A><A name="Index2274"></A><A name="Index2275"></A> 
  Ctrl-Page-Down, insert the following into your <SPAN class=compcode>.emacs</SPAN> 
  file: </FONT></P>
<PRE class="compcode"><FONT size=3>
<SPAN class=compcode>(global-set-key [(control prior)] &#039;bury-buffer) </SPAN>
<SPAN class=compcode>(global-set-key [(control next)] &#039;yic-next-buffer) </SPAN>
</FONT></PRE>
<P><FONT size=2>As a shortcut, it also binds <SPAN class=compcode>C-x C-o</SPAN>.
  to the functionality of pressing <SPAN class=compcode>C-x o RET</SPAN> (described 
  previously) and <SPAN class=compcode>C-x C-k</SPAN>.to the functionality of 
  pressing <SPAN class=compcode>C-x k RET</SPAN> (that is, kill the current buffer 
  without <A name="Index2276"></A><A name="Index2277"></A><A name="Index2278"></A><A name="Index2279"></A>asking--it 
  of course still asks whether it is modified). </FONT></P>
<A name="Heading145"></A> 
<H3> Naming a Buffer in an Easier Way </H3>
<P><FONT size=2>When switching <A name="Index2280"></A><A name="Index2281"></A>buffers 
  with <SPAN class=compcode>C-x b</SPAN>, you can press the Tab key to make Emacs 
  fill in as much as possible unambiguously. If no additional characters can be 
  filled in unambiguously, Emacs shows you the possible completions in a buffer. 
  In some cases, you might either find it annoying that this extra buffer suddenly 
  is shown, or find it irritating that the completions aren&#039;t shown all the 
  time. If this is the case, you should most definitely try the library <A name="Index2282"></A><A name="Index2283"></A><A name="Index2284"></A><A name="Index2285"></A>called 
  <SPAN class=compcode>iswitchb</SPAN>.</FONT></P>
<TABLE border="0" width="90%" cellspacing="0" cellpadding="3" align="center">
  <TR> 
    <TD bgcolor="#DDDDDD"> 
      <P><FONT size=2><B class="specialgreen">Note -</B> This library is part 
        of the standard installation of both GNU Emacs<A name="Index2286"></A><A name="Index2287"></A><A name="Index2288"></A><A name="Index2289"></A> 
        and XEmacs but only in version 20. That is, this does not work in version 
        19. </FONT></P>
    </TD>
  </TR>
</TABLE>
<BR>
<P><FONT size=2>To load it, insert<A name="Index2290"></A><A name="Index2291"></A><A name="Index2292"></A><A name="Index2293"></A> 
  the following lines into your <SPAN class=compcode>.emacs</SPAN> file: </FONT></P>
<PRE class="compcode"><FONT size=3>
<SPAN class=compcode>(require &#039;iswitchb) </SPAN>
<SPAN class=compcode>(iswitchb-default-keybindings) </SPAN>
</FONT></PRE>
<P><FONT size=2>When it is loaded, the key sequence <SPAN class=compcode>C-x b 
  </SPAN>is bound to the function <SPAN class=compcode>iswitchb-buffer</SPAN>. 
  Therefore when you press <SPAN class=compcode>C-x b</SPAN>, Emacs shows you 
  a list of possible<A name="Index2294"></A><A name="Index2295"></A><A name="Index2296"></A><A name="Index2297"></A> 
  completions as you can see in <A href="javascript:popUp('graphics/ch06/06fig09.gif')">Figure 
  6.9</A>. </FONT></P>
<P><FONT size=2>At first, all possible completions are shown, because you have 
  not typed anything yet. When you type something, the list is immediately updated 
  with the limited set of buffer names that match the text you have typed (see 
  <A href="javascript:popUp('graphics/ch06/06fig10.gif')">Figure 6.10</A>). Please 
  note that a buffer name matches if it contains the text as a substring. Thus 
  if you type <SPAN class=compcode>fig</SPAN>, the buffer name <SPAN class=compcode>config.el</SPAN> 
  matches, because it contains<A name="Index2298"></A><A name="Index2299"></A><A name="Index2300"></A><A name="Index2301"></A> 
  <SPAN class=compcode>fig</SPAN> as a substring. </FONT></P>
<P class="figcaption"><FONT size=2><B><A href="javascript:popUp('graphics/ch06/06fig09.gif')">Figure 
  6.9</A> </B><BR>
  Switching buffers<A name="Index2302"></A><A name="Index2303"></A><A name="Index2304"></A><A name="Index2305"></A> 
  using the <SPAN class=compcode>iswitchb</SPAN> library. </FONT></P>
<P class="figcaption"><FONT size=2><B><A href="javascript:popUp('graphics/ch06/06fig10.gif')">Figure 
  6.10</A> </B><BR>
  Switching buffers<A name="Index2306"></A><A name="Index2307"></A><A name="Index2308"></A><A name="Index2309"></A> 
  using the <SPAN class=compcode>iswitchb</SPAN> library. </FONT></P>
<TABLE border="0" width="90%" cellspacing="0" cellpadding="3" align="center">
  <TR> 
    <TD bgcolor="#DDDDDD"> 
      <P><FONT size=2><B class="specialgreen">Note -</B> In previous figures, 
        the minibuffer is two lines high. To resize the<A name="Index2310"></A><A name="Index2311"></A><A name="Index2312"></A><A name="Index2313"></A> 
        minibuffer, I enabled resize-minibuffer-mode, which comes with Emacs. 
        See the next section for a description of this. </FONT></P>
    </TD>
  </TR>
</TABLE>
<BR>
<P><FONT size=2>If you press the <A name="Index2314"></A><A name="Index2315"></A><A name="Index2316"></A><A name="Index2317"></A>Enter 
  key when there still is more than one element left to complete, Emacs switches 
  to the buffer listed in the front of the list. </FONT></P>
<P><FONT size=2>Pressing <SPAN class=compcode>C-s</SPAN> rotates the list one 
  element to the left. That is, the second element becomes the first one, the 
  third becomes the second, and the first wraps over to become the last one. Likewise 
  <SPAN class=compcode>C-r</SPAN> rotates the list one element to the right. This 
  can be seen in <A href="javascript:popUp('graphics/ch06/06fig11.gif')">Figure 
  6.11</A>, where <SPAN class=compcode>C-s</SPAN> has been<A name="Index2318"></A><A name="Index2319"></A><A name="Index2320"></A><A name="Index2321"></A> 
  pressed. </FONT></P>
<P class="figcaption"><FONT size=2><B><A href="javascript:popUp('graphics/ch06/06fig11.gif')">Figure 
  6.11</A> </B><BR>
  All elements rotated <A name="Index2322"></A><A name="Index2323"></A><A name="Index2324"></A><A name="Index2325"></A>one 
  element to the left, compared to <A href="javascript:popUp('graphics/ch06/06fig10.gif')">Figure 
  6.10</A>. </FONT></P>
<A name="Heading146"></A> 
<H3> Saving the Buffer List </H3>
<P><FONT size=2>When you leave work or <A name="Index2326"></A><A name="Index2327"></A><A name="Index2328"></A>school, 
  or anywhere you use Emacs, you might need to turn off the computer (or you might 
  do this to save energy). Turning off the computer does, of course, also mean 
  shutting down Emacs. If you are working on a set of files (for example, a lot 
  of C files in a project or the HTML documents for your home page), it might 
  be desirable to be able to make a dump of Emacs. This dump should contain enough 
  information to make Emacs configure itself to the state it had before you exited 
  it, so you later may get back to it and continue your work. The library<A name="Index2329"></A><A name="Index2330"></A><A name="Index2331"></A><A name="Index2332"></A><A name="Index2333"></A> 
  called <SPAN class=compcode>desktop</SPAN> does in fact do this. </FONT></P>
<P><FONT size=2>This library makes Emacs save the list of buffers and some information 
  about these buffers to a file. Each directory can contain one such file (its 
  name is <SPAN class=compcode>.emacs.desktop</SPAN>). When Emacs is started it 
  checks whether such a file is located in the startup directory and, if <A name="Index2334"></A><A name="Index2335"></A><A name="Index2336"></A><A name="Index2337"></A><A name="Index2338"></A>this 
  is the case, the state is read from this file. </FONT></P>
<P><FONT size=2>To make it work, insert the following lines into your <SPAN class=compcode>.emacs</SPAN> 
  file: </FONT></P>
<PRE class="compcode"><FONT size=3>
<SPAN class=compcode>(load &quot;desktop&quot;) </SPAN>
<SPAN class=compcode>(desktop-load-default) </SPAN>
<SPAN class=compcode>(desktop-read) </SPAN>
</FONT></PRE>
<P><FONT size=2>When a desktop has been loaded, it is saved to the same file on 
  exit, but the first time you need to tell it to save. To do this, press <SPAN class=compcode>M-x</SPAN> 
  and <A name="Index2339"></A><A name="Index2340"></A><A name="Index2341"></A><A name="Index2342"></A><A name="Index2343"></A>type 
  <SPAN class=compcode>desktop-save</SPAN>.</FONT></P>
<TABLE border="0" width="90%" cellspacing="0" cellpadding="3" align="center">
  <TR> 
    <TD bgcolor="#DDDDDD"> 
      <P><FONT size=2><B class="specialgreen">Note -</B> The window layout for 
        the buffer is not saved to a file. </FONT></P>
    </TD>
  </TR>
</TABLE>
<BR>
</FONT></FONT></FONT> 
<TABLE border="0" width="99%" cellspacing="0" cellpadding="3">
  <TR> 
    <TD background="graphics/blstrbkg.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/blstrbkg.gif"  bgcolor="#666699"> 
      <P> <FONT color="#FFFFFF"><B>Sams Teach Yourself Emacs<FONT size="1"></FONT> 
        in 24 Hours</B> </FONT></P>
    </TD>
    <TD background="graphics/blstrbkg.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/blstrbkg.gif" bgcolor="#666699"><FONT size="2"><IMG src="../style/dot.gif" tppabs="http://freebooks.by.ru/view/style/dot.gif" width="10" height="1"></FONT></TD>
    <TD background="graphics/blstrbkg.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/blstrbkg.gif" bgcolor="#666699" nowrap align="right"> 
      <P><A href="index.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/index.htm"><FONT size="2" color="#FFFFFF">Contents</FONT></A><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"><A href="bkindex.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/bkindex.htm"><FONT size="2" color="#FFFFFF">Index</FONT></A></P>
    </TD>
  </TR>
  <TR> 
    <TD bgcolor="#AAAAAA" height="16"> 
      <P><FONT size="2">Hour 6: Editing Several Files at Once </FONT></P>
    </TD>
    <TD bgcolor="#AAAAAA" height="16"><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
    <TD bgcolor="#AAAAAA" height="16" align="right" nowrap> 
      <P><FONT size="2"><A href="emacs046.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs046.htm"><IMG src="graphics/prev-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/prev-on.gif" width="7" height="5" border="0">Previous 
        Hour</A><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"><A href="emacs059.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs059.htm">Next 
        Hour<IMG src="graphics/next-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/next-on.gif" width="7" height="5" border="0"></A></FONT></P>
    </TD>
  </TR>
  <TR> 
    <TD bgcolor="#DDDDDD"> 
      <TABLE border="0" cellspacing="0" cellpadding="0" dwcopytype="CopyTableRow">
        <TR valign="top"> 
          <TD> 
            <P></P>
            <P><FONT size="2">Sections in this Hour:</FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1">Working with Multiple Buffers 
              </FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs056.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs056.htm">Q&amp;A</A> 
              </FONT></P>
          </TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs054.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs054.htm">Working 
              with Windows and Frames</A></FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs057.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs057.htm">Exercises</A> 
              </FONT></P>
          </TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs055.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs055.htm">Summary</A> 
              </FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1"> </FONT></P>
          </TD>
        </TR>
      </TABLE>
    </TD>
    <TD bgcolor="#DDDDDD">&nbsp;</TD>
    <TD bgcolor="#DDDDDD" align="right" nowrap valign="bottom"> 
      <P class="navigation"><FONT size="2"><IMG src="graphics/prev-off.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/prev-off.gif" width="7" height="5" border="0">Previous 
        Section<IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"><A href="emacs054.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs054.htm">Next 
        Section<IMG src="graphics/next-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/next-on.gif" width="7" height="5" border="0"></A></FONT></P>
    </TD>
  </TR>
</TABLE>
<P class="copyright"><FONT size=2>&#169; Copyright Macmillan USA. All rights reserved.</FONT></P>
</BODY></HTML>
